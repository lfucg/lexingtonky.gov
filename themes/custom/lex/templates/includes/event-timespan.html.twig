{#
  required values:
    field_begin (render array)
    field_end (render array)
#}

{# not sure if twig has functions that can extract and return these? #}

{% set begin_text = field_begin[0]['#text'] %}
{% set begin = {
    day:       (begin_text | date('d')),
    month:     (begin_text | date('M')),
    year:      (begin_text | date('Y')),
    time:      (begin_text | date('g:i')),
    full_time: (begin_text | date('g:i a')),
    am_pm:     (begin_text | date('a'))
  }
%}

{% set end_text = field_end[0]['#text'] %}
{% set end = {
    day:       (end_text | date('d')),
    month:     (end_text | date('M')),
    year:      (end_text | date('Y')),
    time:      (end_text | date('g:i')),
    full_time: (end_text | date('g:i a')),
    am_pm:     (end_text | date('a'))
  }
%}

{{ begin.month }} {{ begin.day }}, {{ begin.year }}

{% if begin.day == end.day and begin.month == end.month and begin.year == end.year %}
  {% set begin_time = begin.am_pm == end.am_pm ? begin.time : begin.full_time %}

  <br>{% include '@lex/includes/time.html.twig' with { time: begin_time } %}
  –
  {% include '@lex/includes/time.html.twig' with { time: end.full_time } %}

{% else %}

  <br>{% include '@lex/includes/time.html.twig' with { time: begin.full_time } %}
  <br> –
  <br>{{ end.month }} {{ end.day }}, {{ end.year }}
  <br>{% include '@lex/includes/time.html.twig' with { time: end.full_time } %}

{% endif %}
